<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Njål Foldnes">

<title>MPS 140 - Fysisk samling 05.03. Multippel og logistisk regresjon</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Fysisk samling 05.03. Multippel og logistisk regresjon</li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../images/icon.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false">
 <span class="menu-text">Kursinfo</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../emnebeskrivelse.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Emnebeskrivelse</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
 <span class="menu-text">Samlinger</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../samlinger/samling1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Samling 1</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">
 <span class="menu-text">R</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Ressurser.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Installasjon</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">
 <span class="menu-text">Data</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../data/smartphone_wellbeing.rds" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Goldilocks hele datasett</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../data/goldilocksutvalg.rds" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Goldilocks utvalg av 400 ungdommer</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../data/stress_complete.csv" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Digital jobbstress</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false">
 <span class="menu-text">Eksamen</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../omeksamen.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Om eksamen</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    <div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="slides3a.html"><i class="bi bi-file-slides"></i>RevealJS</a></li></ul></div></div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Fysisk samling 05.03. Multippel og logistisk regresjon</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Njål Foldnes </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="multippel-og-logistisk-regresjon" class="level1">
<h1>Multippel og logistisk regresjon</h1>
<section id="multippel-regresjon-er-et-hovedverktøy-i-psykologi" class="level2">
<h2 class="anchored" data-anchor-id="multippel-regresjon-er-et-hovedverktøy-i-psykologi">Multippel regresjon er et hovedverktøy i psykologi</h2>
<ul>
<li>Fra forskningsspørsmålet identifiserer vi en <em>avhengig variabel</em> <span class="math inline">\(Y\)</span> som vi vil forklare variasjonen til</li>
<li>Og en rekke <em>prediktorer</em> <span class="math inline">\(X_1, X_2, \ldots, X_k\)</span> som skal forklare variasjonen i <span class="math inline">\(Y\)</span></li>
<li>Modellen:</li>
</ul>
<p><span class="math display">\[ Y = \beta_0 + \beta_1 X_1+ \beta_1 X_2+\ldots +  \beta_k X_k+\epsilon\]</span></p>
</section>
<section id="fra-forskningsspørsmål-til-regresjon" class="level2">
<h2 class="anchored" data-anchor-id="fra-forskningsspørsmål-til-regresjon">Fra forskningsspørsmål til regresjon</h2>
<ul>
<li>Finne de viktigste prediktorene</li>
<li>Sjekke forutsetninger: stort nok utvalg, unngå multikollinearitet<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>, sammenhengene er lineære, homoskedastisitet<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>, normalfordelte residualer</li>
<li>Sjekke modellens totale forklaringskraft (Adjusted <span class="math inline">\(R^2\)</span> og <span class="math inline">\(F\)</span>)</li>
<li>Sjekke hver prediktors forklaringskraft</li>
<li>Besvare forskningsspørsmålet</li>
</ul>
</section>
<section id="digitalt-stress" class="level2">
<h2 class="anchored" data-anchor-id="digitalt-stress">Digitalt stress</h2>
<p>Vi ser på noen data fra <a href="https://www.frontiersin.org/journals/psychology/articles/10.3389/fpsyg.2024.1297194/full">stress-studien</a>. Dataene er i comma separated format og lastes ned <a href="../data/stress_complete.csv">her</a></p>
<p>For å lese inn data i mange format (excel, csv, spss, osv) trykk på <em>File&gt;Import dataset</em> i Rstudio</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"tidyverse"</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>stressdata <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"../data/stress_complete.csv"</span>) </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>stressdata<span class="sc">$</span>X <span class="ot">&lt;-</span> NULL<span class="co">#fjerne unødvendig variabel "X"</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(stressdata)<span class="co">#rader og søyler</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 581  23</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(stressdata)<span class="co">#hvilke variabler</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "age"                     "sex"                    
 [3] "civil_status"            "education"              
 [5] "professional_experience" "COMP1"                  
 [7] "COMP2"                   "COMP3"                  
 [9] "COMP4"                   "COMP5"                  
[11] "CONF1"                   "CONF2"                  
[13] "CONF3"                   "CONF4"                  
[15] "CONF5"                   "INSE1"                  
[17] "INSE2"                   "INSE3"                  
[19] "INSE4"                   "INSE5"                  
[21] "alene"                   "leder"                  
[23] "bransje"                </code></pre>
</div>
</div>
</section>
<section id="beskrivende-statistikk---alder" class="level2">
<h2 class="anchored" data-anchor-id="beskrivende-statistikk---alder">Beskrivende statistikk - Alder</h2>
<p>Vi begynner alltid med å se på grafer</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(stressdata<span class="sc">$</span>age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="slides3a_files/figure-revealjs/unnamed-chunk-3-1.png" class="img-fluid" width="960"></p>
</div>
</div>
<p>Vi har outlier. Gjennomsnitt 52.6 og median: 42. Fjern outlier:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>stressdata <span class="ot">&lt;-</span> <span class="fu">filter</span>(stressdata, age <span class="sc">&lt;</span> <span class="dv">70</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(stressdata)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 576</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(stressdata<span class="sc">$</span>age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="slides3a_files/figure-revealjs/unnamed-chunk-4-1.png" class="img-fluid" width="960"></p>
</div>
</div>
</section>
<section id="beskrivende-statistikk---utdanningsnivå" class="level2">
<h2 class="anchored" data-anchor-id="beskrivende-statistikk---utdanningsnivå">Beskrivende statistikk - Utdanningsnivå</h2>
<p>Fire utdanningsnivå (grunnskole, vid.g, bachelor, master/phd)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">qplot</span>(stressdata<span class="sc">$</span>education)<span class="sc">+</span><span class="fu">geom_bar</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="slides3a_files/figure-revealjs/unnamed-chunk-5-1.png" class="img-fluid" width="960"></p>
</div>
</div>
<p>Andeler</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">prop.table</span>(<span class="fu">table</span>(stressdata<span class="sc">$</span>education))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
         1          2          3          4 
0.01388889 0.30034722 0.39409722 0.29166667 </code></pre>
</div>
</div>
</section>
<section id="beskrivende-statistikk-kjønn" class="level2">
<h2 class="anchored" data-anchor-id="beskrivende-statistikk-kjønn">Beskrivende statistikk kjønn</h2>
<p>Variabelen “sex” er kodet slik: 1=kvinne, 2=mann, 3=ikke oppgitt.</p>
<p>Vi forenkler med å lage en ny binær variabel “kjønn”</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>stressdata<span class="sc">$</span>kjønn <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(stressdata<span class="sc">$</span>sex <span class="sc">==</span> <span class="dv">2</span>,<span class="st">"mann"</span>, <span class="st">"kvinne"</span>)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">qplot</span>(stressdata<span class="sc">$</span>kjønn)<span class="sc">+</span><span class="fu">geom_bar</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="slides3a_files/figure-revealjs/unnamed-chunk-7-1.png" class="img-fluid" width="960"></p>
</div>
</div>
</section>
<section id="beskrivende-statistikk-bransje" class="level2">
<h2 class="anchored" data-anchor-id="beskrivende-statistikk-bransje">Beskrivende statistikk bransje</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(stressdata<span class="sc">$</span>bransje )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
                    annet            Bygg og anlegg         Faglige tjenester 
                       47                        14                         5 
     Finans og forsikring Forskning og undervisning           Helse og omsorg 
                       10                        47                       347 
                 Industri                        IT  Offentlig administrasjon 
                        7                        23                        25 
             Olje og gass                Varehandel 
                       34                        17 </code></pre>
</div>
</div>
<p>Vi forenkler ved å lage ny binær variabel for bransje (vi overskriver den gamle bransje)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>stressdata<span class="sc">$</span>bransje <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(stressdata<span class="sc">$</span>bransje <span class="sc">==</span><span class="st">"Helse og omsorg"</span>, <span class="st">"Helse og omsorg"</span>, <span class="st">"Annet"</span>)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(stressdata<span class="sc">$</span>bransje)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
          Annet Helse og omsorg 
            229             347 </code></pre>
</div>
</div>
</section>
<section id="complexity-ict-er-et-aspekt-med-digitalt-stress" class="level2">
<h2 class="anchored" data-anchor-id="complexity-ict-er-et-aspekt-med-digitalt-stress">Complexity ICT er et aspekt med digitalt stress</h2>
<p>Fem items som tilhører “Complexity ICT” er bra korrelert</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>comp <span class="ot">&lt;-</span> <span class="fu">select</span>(stressdata, <span class="fu">contains</span>(<span class="st">"COMP"</span>))<span class="co">#velge ut bare disse 5</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(comp) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      COMP1 COMP2 COMP3 COMP4 COMP5
COMP1   1.0   0.8   0.8   0.7   0.7
COMP2   0.8   1.0   0.8   0.7   0.7
COMP3   0.8   0.8   1.0   0.7   0.7
COMP4   0.7   0.7   0.7   1.0   0.8
COMP5   0.7   0.7   0.7   0.8   1.0</code></pre>
</div>
</div>
</section>
<section id="oppsummere-complexity-med-en-summeskår" class="level2">
<h2 class="anchored" data-anchor-id="oppsummere-complexity-med-en-summeskår">Oppsummere complexity med en summeskår</h2>
<p>Lage summeskår som et mål på Complexity stress</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>stressdata<span class="sc">$</span>complexity <span class="ot">&lt;-</span> stressdata<span class="sc">$</span>COMP1<span class="sc">+</span>stressdata<span class="sc">$</span>COMP2<span class="sc">+</span>stressdata<span class="sc">$</span>COMP3<span class="sc">+</span>stressdata<span class="sc">$</span>COMP4<span class="sc">+</span>stressdata<span class="sc">$</span>COMP5</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(stressdata<span class="sc">$</span>complexity)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   5.00   11.00   19.00   18.66   26.00   35.00 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(stressdata<span class="sc">$</span>complexity)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="slides3a_files/figure-revealjs/unnamed-chunk-11-1.png" class="img-fluid" width="960"></p>
</div>
</div>
</section>
<section id="kan-vi-forklare-noe-i-variasjonen-til-complexity-stress" class="level2">
<h2 class="anchored" data-anchor-id="kan-vi-forklare-noe-i-variasjonen-til-complexity-stress">Kan vi forklare noe i variasjonen til complexity stress?</h2>
<p>Kan kjønn og alder forklare noe av stresset?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>mod <span class="ot">&lt;-</span> <span class="fu">lm</span>(complexity <span class="sc">~</span> kjønn<span class="sc">+</span>age, <span class="at">data=</span>stressdata) </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(mod)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = complexity ~ kjønn + age, data = stressdata)

Residuals:
     Min       1Q   Median       3Q      Max 
-15.1812  -7.1336  -0.1302   6.9751  18.6830 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) 17.22973    1.44498  11.924  &lt; 2e-16 ***
kjønnmann   -2.91213    0.88412  -3.294  0.00105 ** 
age          0.04760    0.03322   1.433  0.15244    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 8.452 on 573 degrees of freedom
Multiple R-squared:  0.02046,   Adjusted R-squared:  0.01704 
F-statistic: 5.983 on 2 and 573 DF,  p-value: 0.002681</code></pre>
</div>
</div>
<ul>
<li>p-verdien til F-testen er signifikant. Det betyr at kjønn og alder forklarer mer enn ingenting</li>
<li><span class="math inline">\(R^2\)</span> er imidlertid veldig lav</li>
</ul>
</section>
<section id="endre-modell" class="level2">
<h2 class="anchored" data-anchor-id="endre-modell">Endre modell</h2>
<p>Ta bort alder og ta heller med bransje</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>mod <span class="ot">&lt;-</span> <span class="fu">lm</span>(complexity <span class="sc">~</span> kjønn<span class="sc">+</span>bransje, <span class="at">data=</span>stressdata) </span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(mod)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = complexity ~ kjønn + bransje, data = stressdata)

Residuals:
     Min       1Q   Median       3Q      Max 
-16.3573  -6.3573   0.3255   6.3696  19.3255 

Coefficients:
                       Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)             14.6745     0.6052  24.247   &lt;2e-16 ***
kjønnmann               -0.1764     0.8628  -0.204    0.838    
bransjeHelse og omsorg   6.6828     0.7071   9.452   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 7.875 on 573 degrees of freedom
Multiple R-squared:  0.1495,    Adjusted R-squared:  0.1466 
F-statistic: 50.38 on 2 and 573 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<ul>
<li>p-verdien til F-testen er signifikant og <span class="math inline">\(R^2\)</span> er mye høyere nå</li>
<li>Nå er ikke kjønn signifikant lengre.</li>
</ul>
</section>
<section id="helsesektor-er-full-av-kvinner.." class="level2">
<h2 class="anchored" data-anchor-id="helsesektor-er-full-av-kvinner..">Helsesektor er full av kvinner..</h2>
<p>Det er helsesektoren som forklarer stress! Grunnen til at kjønn var signifikant før var at det er mange damer i den stressfulle helsesektoren</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>stressdata <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(bransje) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">andel_menn=</span><span class="fu">mean</span>(kjønn<span class="sc">==</span><span class="st">"mann"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  bransje         andel_menn
  &lt;chr&gt;                &lt;dbl&gt;
1 Annet               0.358 
2 Helse og omsorg     0.0980</code></pre>
</div>
</div>
</section>
<section id="bransje-og-lederansvar" class="level2">
<h2 class="anchored" data-anchor-id="bransje-og-lederansvar">Bransje og lederansvar</h2>
<p>Ta bort kjønn og ta med lederansvar</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>mod <span class="ot">&lt;-</span> <span class="fu">lm</span>(complexity <span class="sc">~</span> leder<span class="sc">+</span>bransje, <span class="at">data=</span>stressdata) </span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(mod)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = complexity ~ leder + bransje, data = stressdata)

Residuals:
     Min       1Q   Median       3Q      Max 
-16.3492  -6.3492   0.3539   6.3871  19.3539 

Coefficients:
                       Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)             14.6461     0.5786  25.314   &lt;2e-16 ***
lederTRUE               -0.1327     0.9649  -0.138    0.891    
bransjeHelse og omsorg   6.7031     0.6958   9.633   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 7.875 on 573 degrees of freedom
Multiple R-squared:  0.1495,    Adjusted R-squared:  0.1465 
F-statistic: 50.36 on 2 and 573 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<p>Leder er ikke signifikant.</p>
</section>
<section id="utdanningsnivå-og-stress" class="level2">
<h2 class="anchored" data-anchor-id="utdanningsnivå-og-stress">Utdanningsnivå og stress</h2>
<p>Utdanningsnivå er på ordinal skala så vi gjør det om til factor:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>mod <span class="ot">&lt;-</span> <span class="fu">lm</span>(complexity <span class="sc">~</span> education<span class="sc">+</span>bransje, <span class="at">data=</span>stressdata) </span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(mod)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = complexity ~ education + bransje, data = stressdata)

Residuals:
     Min       1Q   Median       3Q      Max 
-16.6117  -6.3274   0.2403   6.5246  19.3824 

Coefficients:
                       Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)             15.0441     1.3507  11.138   &lt;2e-16 ***
education               -0.1422     0.4095  -0.347    0.729    
bransjeHelse og omsorg   6.7098     0.6727   9.975   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 7.875 on 573 degrees of freedom
Multiple R-squared:  0.1497,    Adjusted R-squared:  0.1467 
F-statistic: 50.42 on 2 and 573 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<p>Utdanningsnivå er heller ikke signifikant prediktor</p>
</section>
<section id="parsimony-enkelhetsprinsippet" class="level2">
<h2 class="anchored" data-anchor-id="parsimony-enkelhetsprinsippet">Parsimony = Enkelhetsprinsippet</h2>
<p>Ironisk nok ender vi opp med en enkel regresjon! Det er bare bransje som forklarer stress i våre data (15% er forklart, 85% er ikke forklart)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>mod <span class="ot">&lt;-</span> <span class="fu">lm</span>(complexity <span class="sc">~</span> bransje, <span class="at">data=</span>stressdata) </span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(mod)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = complexity ~ bransje, data = stressdata)

Residuals:
     Min       1Q   Median       3Q      Max 
-16.3401  -6.3401   0.3886   6.3886  19.3886 

Coefficients:
                       Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)             14.6114     0.5200   28.10   &lt;2e-16 ***
bransjeHelse og omsorg   6.7287     0.6699   10.04   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 7.869 on 574 degrees of freedom
Multiple R-squared:  0.1495,    Adjusted R-squared:  0.148 
F-statistic: 100.9 on 1 and 574 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
</section>
<section id="når-y-er-binær-logistisk-regresjon" class="level2">
<h2 class="anchored" data-anchor-id="når-y-er-binær-logistisk-regresjon">Når <span class="math inline">\(Y\)</span> er binær: Logistisk regresjon</h2>
<ul>
<li>I multippel regresjon er <span class="math inline">\(Y\)</span> kontinuerlig
<ul>
<li>For eksempel <span class="math inline">\(Y\)</span>= well-being på en skala fra 0-10</li>
<li>Modellen gir forventet well-being gitt feks kjønn og alder</li>
</ul></li>
<li>Hvis <span class="math inline">\(Y\)</span> er binær så må vi bruke <em>logistisk</em> regresjon
<ul>
<li>For eksempel <span class="math inline">\(Y\)</span>=depressiv (Ja/Nei)</li>
<li>Modellen gir da odds/sannsynlighet for at en person er depressiv, gitt feks kjønn og alder</li>
</ul></li>
</ul>
</section>
<section id="eksempel-extramarital-affairs" class="level2">
<h2 class="anchored" data-anchor-id="eksempel-extramarital-affairs">Eksempel: Extramarital affairs</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(AER)<span class="co">#install first if needed</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">"Affairs"</span>)<span class="co">#loader datasettet</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(Affairs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    affairs          gender         age         yearsmarried    children 
 Min.   : 0.000   female:315   Min.   :17.50   Min.   : 0.125   no :171  
 1st Qu.: 0.000   male  :286   1st Qu.:27.00   1st Qu.: 4.000   yes:430  
 Median : 0.000                Median :32.00   Median : 7.000            
 Mean   : 1.456                Mean   :32.49   Mean   : 8.178            
 3rd Qu.: 0.000                3rd Qu.:37.00   3rd Qu.:15.000            
 Max.   :12.000                Max.   :57.00   Max.   :15.000            
 religiousness     education       occupation        rating     
 Min.   :1.000   Min.   : 9.00   Min.   :1.000   Min.   :1.000  
 1st Qu.:2.000   1st Qu.:14.00   1st Qu.:3.000   1st Qu.:3.000  
 Median :3.000   Median :16.00   Median :5.000   Median :4.000  
 Mean   :3.116   Mean   :16.17   Mean   :4.195   Mean   :3.932  
 3rd Qu.:4.000   3rd Qu.:18.00   3rd Qu.:6.000   3rd Qu.:5.000  
 Max.   :5.000   Max.   :20.00   Max.   :7.000   Max.   :5.000  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>Affairs<span class="sc">$</span>utro <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(Affairs<span class="sc">$</span>affairs <span class="sc">==</span> <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>)<span class="co">#binær variabel</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="logistisk-regresjon-når-y-01" class="level2">
<h2 class="anchored" data-anchor-id="logistisk-regresjon-når-y-01">Logistisk regresjon når <span class="math inline">\(Y\)</span>= 0/1</h2>
<p>Vi ønsker å bruke rating og children som prediktorer for utroskap Modellen er <span class="math display">\[ log(\frac{p}{1-p})=\beta_0+ \beta_1 rating + \beta_2 children + \epsilon\]</span></p>
<p>Her er <span class="math inline">\(p\)</span> sannsynlighet for utroskap, og <span class="math inline">\(\frac{p}{1-p}\)</span> er <em>oddsen</em> Oddsen er alltid positiv men når vi tar logaritmen så får vi dekket både negative og positive tall!</p>
<p>Tolkningen av <span class="math inline">\(\beta\)</span>-ene blir mer komplisert!</p>
</section>
<section id="i-r-bruker-vi-glm-funksjonen" class="level2">
<h2 class="anchored" data-anchor-id="i-r-bruker-vi-glm-funksjonen">I R bruker vi glm() funksjonen</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>log_mod <span class="ot">&lt;-</span> <span class="fu">glm</span>(utro <span class="sc">~</span> <span class="fu">factor</span>(children) <span class="sc">+</span>rating, <span class="at">data=</span>Affairs, <span class="at">family=</span><span class="st">"binomial"</span>)</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(log_mod)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
glm(formula = utro ~ factor(children) + rating, family = "binomial", 
    data = Affairs)

Coefficients:
                    Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept)          0.28200    0.40264   0.700   0.4837    
factor(children)yes  0.55309    0.24291   2.277   0.0228 *  
rating              -0.47532    0.08608  -5.522 3.36e-08 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

(Dispersion parameter for binomial family taken to be 1)

    Null deviance: 675.38  on 600  degrees of freedom
Residual deviance: 632.80  on 598  degrees of freedom
AIC: 638.8

Number of Fisher Scoring iterations: 4</code></pre>
</div>
</div>
</section>
<section id="tolkning-av-beta-i-logistisk-regresjon" class="level2">
<h2 class="anchored" data-anchor-id="tolkning-av-beta-i-logistisk-regresjon">Tolkning av <span class="math inline">\(\beta\)</span> i logistisk regresjon</h2>
<p>Så barn øker log odds for utroskap, og høyer rating reduserer log odds for utroskap. Vi kan fjerne log ved å bruke eksponentialfunksjon</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">exp</span>(<span class="fu">coef</span>(log_mod))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        (Intercept) factor(children)yes              rating 
          1.3257757           1.7386247           0.6216858 </code></pre>
</div>
</div>
<p>Tolkning: barn øker oddsen for utroskap med 74% og at en enhets økning i rating reduserer oddsen med 38%</p>


</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>unngå høyt korrelerte prediktorer<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>residualene har konstant varians<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->

<script>
  // htmlwidgets need to know to resize themselves when slides are shown/hidden.
  // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
  // slide changes (different for each slide format).
  (function () {
    // dispatch for htmlwidgets
    function fireSlideEnter() {
      const event = window.document.createEvent("Event");
      event.initEvent("slideenter", true, true);
      window.document.dispatchEvent(event);
    }

    function fireSlideChanged(previousSlide, currentSlide) {
      fireSlideEnter();

      // dispatch for shiny
      if (window.jQuery) {
        if (previousSlide) {
          window.jQuery(previousSlide).trigger("hidden");
        }
        if (currentSlide) {
          window.jQuery(currentSlide).trigger("shown");
        }
      }
    }

    // hookup for slidy
    if (window.w3c_slidy) {
      window.w3c_slidy.add_observer(function (slide_num) {
        // slide_num starts at position 1
        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
      });
    }

  })();
</script>

<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>