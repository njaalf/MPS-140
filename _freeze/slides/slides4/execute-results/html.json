{
  "hash": "0a266ebf64f3f547234dcd219ee106a6",
  "result": {
    "markdown": "---\ntitle: \"Digital samling 19.03. Forskningsmetoder i psykologi, replikasjonskrisen og å sjekke antagelser for regresjon\"\nauthor: \"Njål Foldnes\"\nfooter:  \"[hjem](https://njaalf.github.io/MPS-140/)\"\n   \nbibliography: ../references.bib \nformat: \n  revealjs: \n    toc: true\n    toc-depth: 1\n    multiplex: true\n    transition: fade\n    slide-number: true\n    theme: slides.scss\n    chalkboard: true\nrevealjs-plugins:\n  - revealjs-text-resizer\n    \neditor: visual\nexecute:\n  echo: true\n  message: false\n  warning: false\n  freeze: auto \n---\n\n# Om meta analyser og Cohens d\n\n## Metaanalyse og effektstørrelse\n\nDe siste årene har oppsummeringsartikler blitt vanlige\n\n-   Metaanalyse. Sammenfatter funn av mange kvantitative studier. Vekter hver studie og beregner en felles effektstørrelse. I *systematisk review* så beregnes som regel ikke en felles effektstørrelse\n\n-   Effektstørrelse. Sier hvor mange standardavvik en avhengig variabel øker som følge av at man øker en uavhengig variabel med ett standardavvik\n\n-   Dersom den uavhengige variabelen er binær så er sier effektstørrelsen hva som skjer dersom den uavhengige variabelen er lik 1 vs lik 0. Gjelder når vi ser på effekten av en intervensjon (binært: kontroll vs intervensjon)\n\n## Cohens $d$\n\nVanligste effektstørrelse er Cohens (1988) $d$. Kontroll vs intervensjon:\n\n$$ d =\\frac{\\overline{x_I}-\\overline{x_K}}{s_p}$$\nHvor $s$ er den kombinerte (pooled) standardavviket i de to gruppene.\n\n\nCohen ga følgende tommelfingerregel for størrelsen\n\n- Liten: d = .2\n- Medium: d = .5\n- Large d = .8\n\n\n\n## Simulere data fra en mindfulness intervensjon\n\nVi ser på IQ score. Kontrollgruppen er hentet fra en populasjon der IQ er 100 i snitt og med standardavvik 15. Vi tenker oss at en mindfulness-intervensjon gir en forventet økning i IQ på 5 poeng. \n\n::: {.cell}\n\n```{.r .cell-code}\nnK <- 50#antall i kontrollgruppen\nnI <- 48#antall i intervensjonsgruppen\nset.seed(1)#når vi simulerer så setter vi et seed for reproduksjon (alle får likt)\niqK <- rnorm(nK, mean=100, sd=15)# generere scorer kontroll\niqI <- rnorm(nI, mean=100+5, sd=15)## generere scorer intervensjon\nsimdata <- data.frame(gruppe=c(rep(\"K\", nK)), IQ=iqK)\nsimdata <- rbind(simdata, data.frame(gruppe=c(rep(\"I\", nI)), IQ=iqI))\n```\n:::\n\n\n\n## Se på forskjellene og gjøre en t.test\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nggplot(data=simdata, aes(x=gruppe, y=IQ))+geom_boxplot()\n```\n\n::: {.cell-output-display}\n![](slides4_files/figure-revealjs/unnamed-chunk-2-1.png){width=960}\n:::\n\n```{.r .cell-code}\nt.test(IQ~gruppe, data=simdata)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tWelch Two Sample t-test\n\ndata:  IQ by gruppe\nt = 2.1422, df = 92.7, p-value = 0.03479\nalternative hypothesis: true difference in means between group I and group K is not equal to 0\n95 percent confidence interval:\n  0.4275016 11.2867599\nsample estimates:\nmean in group I mean in group K \n       107.3639        101.5067 \n```\n:::\n:::\n\n## Beregner Cohens d i R: 0.44\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(psych)\ncohen.d(IQ~gruppe, data=simdata)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nCall: cohen.d(x = IQ ~ gruppe, data = simdata)\nCohen d statistic of difference between two means\n   lower effect upper\nIQ -0.84  -0.44 -0.04\n\nMultivariate (Mahalanobis) distance between groups\n[1] 0.44\nr equivalent of difference between two means\n   IQ \n-0.21 \n```\n:::\n:::\n\n\n\n## Trinn i en metaanalyse\n\n1.  Definer forskningsspørsmålet og konstrukter som skal være med\n\n2.  Litteratursøk (systematisk og reproducible). Inklusjonskriterier defineres\n\n3.  Bestem et mål for effektsstørrelse og metodologi (regresjon meta-analyse eller sem-metanalyse)\n\n4.  rapportere resultater\n\n## Noen eksempler på metastudier\n\n-   [Positiv psykologi intervensjoner virker](https://www.tandfonline.com/doi/full/10.1080/17439760.2020.1818807?casa_token=sJnu401WLu0AAAAA%3A2e9d636k9cz9fzoLXrzNQLHDWkJRx-50zYARQyLF_A_vOdBMt1tCwVKuUIjrKw9-fcMMdeZnFlRJ)\n\n-   Meta-metaanalyse av [Undervisningsformer i høyere utdanning](https://psycnet.apa.org/record/2017-12895-001)\n\n# En oversikt over metoder brukt i psykologisk forskning\n\n## Flest kvantitative studier i psykologi\n\n@scholtz2020use gikk gjennom forskningsmetoder i en [systemised revies](https://www.frontiersin.org/articles/10.3389/frma.2020.00001/full) av 999 artikler i topp fem journaler over 5 år\n\n\" researchers are more likely to use quantitative research methods (90.22%) compared to all other research methods. Qualitative research was the second most common research method but only made up about 4.79% of the general method usage. Reviews occurred almost as much as qualitative studies (3.91%), as the third most popular method. Mixed-methods research studies (0.98%)\" \n\n\n##  Oversikt over kvantitative metoder i ledende kanadiske journaler\n\n@counsell2017reporting gikk gjennom mest brukte statistiske metoder i kanadiske psykologi journaler: ANOVA, t-test og  multippel regresjon \n\nAPA anbefaler å rapportere p-verdier + konfidensintervall+ effektstørrelser.\n\nEndel metodeforskere mener at effektstørrelsen med tilhørende konfidensintervall er nok (se side 2 i artikkelen)\n\nAltfor få studier rapporterer missing data og sjekk av statisiske forutsetninger\n\n\n## Forutsetninger for multippel regresjon\n\np-verdiene og konfidensintervaller for stigningstallene i regresjon er bare til å stole på dersom vi har \n\n- Linearitet\n- Homoskedastiske feilledd\n- Normalfordelte residualer dersom $n$ er lav\n\nVi begrenser oss til disse tre forutsetningene her. \n\n## Simulere data fra en perfekt modell\n\nVi simulerer et datasett som kommer fra en tenkte regresjonsmodell av hvordan IQ forklares av mattescore og størrelse på hjernen. (ikke realistisk: 1 kg mer hjerne gir 10 ekstra IQ poeng. 1 ekstra mattescore gir 1 ekstra IQ)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(1)\nn <- 200#deltagere\nmattescore <- rnorm(n, mean=20, sd=3 )\nhjerne <- rnorm(n, mean=1.4, sd=.1)\nIQ <- 100+10*(hjerne - 1.4)+1*mattescore+rnorm(n, mean=0, sd=3)\niqdata <- data.frame(IQ, hjerne, mattescore)\nmodel <- lm(IQ~hjerne+mattescore, data=iqdata)\nsummary(model)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nlm(formula = IQ ~ hjerne + mattescore, data = iqdata)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-8.8859 -1.9847 -0.1023  2.0382 11.3307 \n\nCoefficients:\n            Estimate Std. Error t value Pr(>|t|)    \n(Intercept) 85.41489    3.60945  23.664  < 2e-16 ***\nhjerne       9.21176    2.25743   4.081 6.52e-05 ***\nmattescore   1.07790    0.08186  13.168  < 2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 3.218 on 197 degrees of freedom\nMultiple R-squared:  0.4881,\tAdjusted R-squared:  0.4829 \nF-statistic: 93.93 on 2 and 197 DF,  p-value: < 2.2e-16\n```\n:::\n:::\n\n\n## Se på de 3 forutsetningene i de perfekte dataene\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(performance)#visuelt sjekke forutsetninger\ncheck_model(model, check=c(\"linearity\", \"homogeneity\", \"normality\"))\n```\n\n::: {.cell-output-display}\n![](slides4_files/figure-revealjs/unnamed-chunk-5-1.png){width=960}\n:::\n:::\n\n\n\n## Simulere data fra en ikke-lineær modell\n\nVi lar effekt av mattescore være kvadratisk\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(1)\nn <- 200#deltagere\nmattescore <- rnorm(n, mean=20, sd=3 )\nhjerne <- rnorm(n, mean=1.4, sd=.1)\nIQ <- 100+10*(hjerne - 1.4)+1*mattescore +1*mattescore^2+rnorm(n, mean=0, sd=3)\niqdata <- data.frame(IQ, hjerne, mattescore)\nmodel <- lm(IQ~hjerne+mattescore, data=iqdata)\nsummary(model)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nlm(formula = IQ ~ hjerne + mattescore, data = iqdata)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-13.453  -6.745  -3.016   2.087  40.998 \n\nCoefficients:\n             Estimate Std. Error t value Pr(>|t|)    \n(Intercept) -334.2153    11.7887 -28.350   <2e-16 ***\nhjerne        17.7435     7.3729   2.407    0.017 *  \nmattescore    41.8435     0.2674 156.511   <2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 10.51 on 197 degrees of freedom\nMultiple R-squared:  0.992,\tAdjusted R-squared:  0.9919 \nF-statistic: 1.225e+04 on 2 and 197 DF,  p-value: < 2.2e-16\n```\n:::\n:::\n\n\n## Se på de 3 forutsetningene i de ikke-lineære dataene\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(performance)#visuelt sjekke forutsetninger\ncheck_model(model, check=c(\"linearity\", \"homogeneity\", \"normality\"))\n```\n\n::: {.cell-output-display}\n![](slides4_files/figure-revealjs/unnamed-chunk-7-1.png){width=960}\n:::\n:::\n\nHer ser at ting går galt og vi kan ikke stole på modellen!\n\n## Man kan modellere den ikke-lineære effekten!\n\nVi lar effekt av mattescore være kvadratisk\n\n::: {.cell}\n\n```{.r .cell-code}\niqdata$mattescore2 <- iqdata$mattescore*iqdata$mattescore\nmodel_kvad <-\n  lm(IQ~hjerne+mattescore+mattescore2, data=iqdata)\ncoef(model_kvad)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n(Intercept)      hjerne  mattescore mattescore2 \n  75.292997    9.417556    2.061208    0.975879 \n```\n:::\n:::\n\n## Regresjonsmodell med kvadratisk term er OK\n\n::: {.cell}\n\n```{.r .cell-code}\ncheck_model(model_kvad, check=c(\"linearity\", \"homogeneity\", \"normality\"))\n```\n\n::: {.cell-output-display}\n![](slides4_files/figure-revealjs/unnamed-chunk-9-1.png){width=960}\n:::\n:::\n\n\n\n\n\n\n\n\n\n## Referanser\n\n::: {#refs}\n:::\n",
    "supporting": [
      "slides4_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}